<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Dee-lite | Grand Haven Offshore Playbook (v2)</title>
  <!-- iOS / PWA meta tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="icon-192.png">
  <link rel="manifest" href="manifest.json">
<style>
  :root { --bg:#0e131b; --card:#151b26; --ink:#e8eefb; --muted:#9fb0c8; --accent:#52a7ff; --accent-2:#2ed0a2; --danger:#ff6b6b; --warning:#ffd166; --good:#06d6a0; --shadow:rgba(0,0,0,.35); --radius:18px; }
  html, body { height:100%; } body { margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif; background:var(--bg); color:var(--ink); }
  .wrap { max-width: 880px; margin:0 auto; padding: calc(8px + env(safe-area-inset-top)) 8px calc(8px + env(safe-area-inset-bottom)); }
  header { position: sticky; top:0; z-index: 30; background: linear-gradient(180deg,#0b2944,#0e1a2a); backdrop-filter: blur(6px); border-bottom: none; border-radius: 0 0 14px 14px; box-shadow: 0 6px 20px rgba(0,0,0,0.45); }
  .bar { display:flex; gap:8px; align-items:center; padding: 14px 12px; }
  .title-container { display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; width:100%; }
  .title { font-weight:900; letter-spacing:0.6px; font-size:26px; color: #eaf6ff; text-shadow: 0 3px 14px rgba(0,0,0,0.5); }
  .tagline { margin-top:4px; font-size:13px; color:var(--accent-2); opacity:0.95; font-weight:700; letter-spacing:0.6px; }
  h2 { font-size:24px; margin: 6px 0 8px; }
  h3 { font-size:20px; margin: 10px 0 6px; }
  ul { padding-left: 18px; }
  ul li { line-height: 1.6; margin: 4px 0; }
  /* dedicated menu button (hamburger + caret feel) */
  .icon-btn { background:transparent; border:1px solid rgba(255,255,255,0.12); color:var(--ink); border-radius:12px; width:44px; height:44px; display:inline-flex; align-items:center; justify-content:center; cursor:pointer; }
  .icon-btn svg { width:26px; height:26px; fill:none; stroke:#e8eefb; stroke-width:2.2; stroke-linecap:round; stroke-linejoin:round; }
  .menu-list { position:absolute; top:calc(100% + 8px); left:0; min-width:240px; max-height:70vh; overflow:auto; -webkit-overflow-scrolling:touch; background:var(--card); border:1px solid #223145; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,0.5); padding:10px; z-index:60; display:flex; flex-direction:column; gap:8px; opacity:0; transform: translateY(4px) scale(0.98); transition: opacity .12s ease, transform .12s ease; }
  .menu-list.open { opacity:1; transform: translateY(0) scale(1); }
  .menu-list a { text-decoration:none; color:var(--ink); padding:12px 14px; border-radius:10px; font-weight:700; font-size:18px; }
  .menu-list a:hover { background:#0c1624; }
  .menu-label { font-size:12px; letter-spacing:.6px; text-transform:uppercase; color:#89a2c4; padding:6px 8px 2px; }
  .menu-sep { height:1px; background:#223145; margin:6px 4px; border-radius:1px; }
  @media(min-width:720px){ .menu-list { left:50%; transform:translateX(-50%); } }

  /* Mobile bottom sheet behavior */
  @media(max-width:520px){
    .icon-btn { width:46px; height:46px; border-radius:14px; }
    /* keep anchored dropdown on mobile (no bottom sheet) */
    .menu-list { position:absolute; left:0; right:auto; bottom:auto; top:calc(100% + 8px); margin:0; min-width:220px; border-radius:12px; padding:10px; display:flex; flex-direction:column; gap:10px; }
    .menu-list[hidden] { display:none; }
  }
  /* remove legacy tabs visuals */
  .card { background:var(--card); border:1px solid #243349; border-radius: var(--radius); box-shadow: 0 8px 24px var(--shadow); padding:18px; }
  .grid { display:grid; grid-template-columns: 1fr; gap: 18px; }
  @media(min-width:720px){ .grid.cols-2{ grid-template-columns: 1fr 1fr; } .grid.cols-3{ grid-template-columns: repeat(3,1fr);} }
  .grid > div { min-width:0; }
  label { display:block; font-size: 16px; color: var(--muted); margin-bottom:8px; font-weight:600; } input, select, textarea, button { width:100%; box-sizing:border-box; border-radius:16px; border:1.5px solid #2a3b54; background:#0c111a; color:#fff; padding:18px; font-size:20px; margin-bottom:8px; }
  select { padding-right:24px; } textarea { min-height:100px; }
  .row { display:flex; gap:14px; } .row > * { flex:1; } .chip { display:inline-flex; align-items:center; gap:8px; background:#0c111a; border:1.5px dashed #2f3f57; padding:12px 14px; border-radius:999px; font-size:16px; color:var(--muted); }
  .muted { color:var(--muted); font-size:16px; } .hint { font-size:15px; color:#8cabd8; margin-top:8px; }
  .btn { background:linear-gradient(180deg,#0e7eed,#0a5fc1); border:none; font-weight:800; letter-spacing:.3px; cursor:pointer; font-size:20px; padding:18px 0; border-radius:16px; }
  .btn.secondary { background:#0c111a; border:1.5px solid #2b3e59; color:#cfe3ff; } .btn.good { background:linear-gradient(180deg,#14bd8d,#0da77a); }
  .btn.warn { background:linear-gradient(180deg,#ffb703,#f77f00); } .btn.danger { background:linear-gradient(180deg,#ff4d4d,#bf2e2e); }
  .text-btn { background:transparent; border:1px solid #2b3e59; color:#cfe3ff; padding:8px 10px; border-radius:12px; font-size:14px; cursor:pointer; }
  table { width:100%; border-collapse: collapse; } th, td { padding:16px; border-bottom:1.5px solid #223145; text-align:left; font-size:18px; }
  th { color:#b8cdf1; font-weight:800; font-size:18px; position: sticky; top:0; background:#162133; z-index:1; } tr:hover td { background:#121b2b; }
  .pill { padding:8px 14px; border-radius:9999px; font-size:16px; display:inline-block; } .pill.badge { background:#0c111a; border:1.5px solid #2f3f57; color:#b9c9e3; }
  .spacer { height:16px; } .section-title { font-weight:900; letter-spacing:.4px; font-size:24px; } .footer { color:var(--muted); text-align:center; font-size:16px; padding:18px 0 32px; }
  .hide { display:none !important; }
  .thumb { width:90px; height:90px; object-fit:cover; border-radius:14px; border:1.5px solid #2a3b54; }
  .thumb-row { display:flex; gap:14px; align-items:center; }
  .lightbox { position:fixed; inset:0; background:rgba(0,0,0,.85); display:flex; align-items:center; justify-content:center; padding:20px; z-index:9999; }
  .lightbox img { max-width:95vw; max-height:85vh; border-radius:18px; box-shadow:0 10px 30px rgba(0,0,0,.6); }
  .lightbox .close { position:absolute; top:14px; right:14px; }
  .invalid { border-color: var(--danger)!important; }
  .badge-count { background:var(--accent); color:#fff; font-size:16px; padding:4px 10px; border-radius:999px; margin-left:10px; line-height:1; }
  .quick-hidden { display:none !important; }
  .prefs-row { display:flex; gap:16px; flex-wrap:wrap; }
  .switch { position:relative; display:inline-flex; align-items:center; gap:8px; font-size:18px; cursor:pointer; }
  .switch input { width:auto; accent-color: var(--accent); }
  #analytics { font-size:16px; line-height:1.5; }
  #analytics h4 { margin:10px 0 4px; font-size:18px; letter-spacing:.5px; text-transform:uppercase; color:var(--muted); }
  .spark { display:inline-block; background:var(--accent); height:14px; margin-right:4px; border-radius:4px; }
  #toast { position:fixed; left:50%; transform:translateX(-50%); bottom:24px; background:#142032; color:#fff; padding:16px 24px; border:1.5px solid #21405c; border-radius:18px; box-shadow:0 6px 16px rgba(0,0,0,.4); display:none; z-index:99999; font-size:18px; }
  #toast button { width:auto; padding:10px 16px; margin-left:14px; font-size:18px; }
  @media(max-width:420px){ input, select, textarea, button { padding:12px; font-size:16px; border-radius:12px; } .tab-btn { font-size:16px; padding:12px 8px; border-radius:14px; } .grid.cols-2, .grid.cols-3 { grid-template-columns: 1fr !important; } .row { flex-direction:column; } .card { padding:14px; } .section-title { font-size:20px; } .tabs { gap:6px; padding:6px 6px 8px; } #toast { font-size:16px; padding:12px 18px; bottom:18px; } header { border-radius: 0 0 10px 10px; } .bar { padding:10px 8px; } .title { font-size:18px; } .tagline { font-size:12px; } }
  input[type="date"], input[type="time"]{ max-width:100%; box-sizing:border-box; }
  input, select, textarea { max-width:100%; box-sizing:border-box; }
  @media(max-width:420px){ input, select, textarea { padding:10px 12px; font-size:15px; } .bar { height:84px; } }
  @media(max-width:400px){ input, select, textarea, button { padding:10px; font-size:15px; border-radius:10px; } .tab-btn { font-size:15px; padding:10px 8px; } .section-title { font-size:18px; } .card { padding:12px; } input, select, textarea { max-width:100%; box-sizing:border-box; } }
  html,body{ overflow-x:hidden; }
  .auto-filled { outline: 2px solid var(--accent-2); box-shadow: 0 10px 30px rgba(46,208,162,0.12); transition: box-shadow .35s, outline .35s; }
  #bottomBar { position: fixed; left: 12px; right: 12px; bottom: 18px; display:flex; gap:8px; justify-content:space-between; align-items:center; z-index:60; }
  #bottomBar .bar-btn { flex:1; padding:12px 10px; border-radius:14px; font-size:16px; }
  @media(min-width:721px){ #bottomBar{ display:none; } }
  /* containerize each major section like a card */
  main.wrap > section { background:var(--card); border:1px solid #243349; border-radius: var(--radius); box-shadow: 0 8px 24px var(--shadow); padding:18px; margin:14px 8px; }
  /* remove any images inside downriggers section */
  #downriggers img { display:none !important; }
  /* details chevrons */
  details > summary { list-style: none; cursor: pointer; position: relative; padding-right: 18px; }
  details > summary::-webkit-details-marker { display:none; }
  details > summary::after { content: '▸'; position:absolute; right:0; top:2px; color:#8cabd8; transition: transform .15s ease; }
  details[open] > summary::after { transform: rotate(90deg); }
  .details-ctrl { display:flex; gap:8px; flex-wrap:wrap; align-items:center; margin: 6px 0 10px; }
  .small { font-size: 12px; color: #9fb0c8; }
  .note { background: #0c111a; border: 1px solid #223145; border-radius: 12px; padding:10px 12px; color:#cfe3ff; }
</style>
<!-- close head and open body to fix structure -->
</head>
<body>
<header>
  <div class="bar" style="justify-content:center; padding:10px 12px; position:relative;">
    <div class="menu-anchor" style="position:absolute; left:12px; top:8px;">
      <button id="navToggle" class="icon-btn" aria-expanded="false" aria-haspopup="true" aria-controls="navMenu" aria-label="Menu">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M4 6h14M4 12h14M4 18h14"/>
        </svg>
      </button>
      <div id="navMenu" class="menu-list" hidden>
        <div class="menu-label">Playbook</div>
        <a href="#playbook" class="menu-link">Overview</a>
        <a href="#quickref" class="menu-link">Quick Reference</a>
        <a href="#loadouts" class="menu-link">Loadouts</a>
        <a href="#walleye" class="menu-link">Walleye</a>
        <a href="#prelaunch" class="menu-link">Pre-Launch &amp; Safety</a>
        <a href="#electronics" class="menu-link">Electronics</a>
        <a href="#downriggers" class="menu-link">Downriggers</a>
        <div class="menu-sep" role="separator"></div>
        <div class="menu-label">Logging</div>
        <a href="reel-record.html" class="menu-link">Reel-Record</a>
      </div>
    </div>
    <div class="title-container">
      <div class="title">Lake Michigan</div>
      <div class="tagline"> - Offshore Playbook - </div>
    </div>
  </div>
</header>

<main class="wrap">
  <section id="hero">
    <div class="grid cols-2">
      <div class="note">
        <strong>Boat:</strong> 20 ft aluminum FISH N SKI I/O Motor & Minn Kota Terrova 80 US2 with i-Pilot (60 in), Humminbird Helix 8 CHIRP MEGA SI+ GPS G3N.<br/>
        <strong>Set Up:</strong> 2 Cannon electric downriggers (15 lb balls), 2 copper setups on Ninja 9.5 boards.<br/>
        <strong>Lures:</strong> spoons, plugs, flashers with flies, meat rigs.<br/>
        <span class="small">Updated 2025-09-09. Works fully offline.</span>
      </div>
    </div>
  </section>

<section id="playbook">
    <h2>Playbook (Salmon/Trout)</h2>
    <h3>Where and When to Start</h3>
    <div class="details-ctrl">
      <button class="text-btn" data-expand="#playbook">Expand all</button>
      <button class="text-btn" data-collapse="#playbook">Collapse all</button>
    </div>
    <ul>
      <li>Work <span class="pill badge">90–140 FOW</span> (inside 75–90 at first light; slide deeper mid‑morning).</li>
      <li>Thermocline focus: Kings 42–50°F; Coho 50–55°F; Steelhead 55–62°F.</li>
      <li>Thermocline often 50–80 ft down — verify on Helix.</li>
      <li>Troll N/S with light S‑turns <span class="pill badge">2.4–2.7 mph SOG</span>.</li>
    </ul>

    <details>
      <summary><strong>Rod "A Spread" (Kings/Coho)</strong></summary>
  <div class="grid cols-2">
        <div>
          <h3>Rigger #1 (deeper king rod)</h3>
          <ul>
    <li>Depth <span class="pill badge">65–80 ft</span> (or 5–10 ft below marks); lead 15–25 ft.</li>
            <li>8-11 in flasher+fly or meat (green/glow, chrome-green, blue bubble).</li>
            <li>Free slider 10-12 ft up with mag spoon (NBK, Green Dolphin, UV blue/silver).</li>
    <li>~<span class="pill badge">2.2–2.5 mph</span> at the ball (SOG 2.4–2.7).</li>
          </ul>
          <h3>Rigger #2 (spoon utility)</h3>
          <ul>
    <li>Depth 45–60 ft; lead 40–60 ft; mag spoon (glow green/white, Blue Dolphin, UV Bloody Nose).</li>
            <li>Free slider 8-10 ft up with standard/orange spoon.</li>
          </ul>
        </div>
        <div>
          <h3>Copper Boards</h3>
          <ul>
    <li><strong>Port (deeper, 300):</strong> J‑plug glow green ladderback or flasher+fly; ~<span class="pill badge">70–80 ft</span> @ <span class="pill badge">2.5 mph</span>.</li>
    <li><strong>Starboard (mid, 200–250):</strong> mag spoon or 8 in flasher+fly; ~<span class="pill badge">50–70 ft</span> @ <span class="pill badge">2.5 mph</span>.</li>
            <li>Deeper piece to inside of S-turns (slower side).</li>
          </ul>
        </div>
      </div>
    </details>

  <details>
      <summary><strong>Rod "B Spread" (Steelhead/Coho)</strong></summary>
      <ul>
        <li>Rigger 40-50 ft: spoon, 50-60 ft lead.</li>
        <li>Rigger 25-35 ft: orange/UV spoon, 55 ft lead.</li>
        <li>Copper 150-200: bright orange/silver spoon.</li>
        <li>Copper 200-250: mag spoon; run 2.6-3.0 mph.</li>
      </ul>
    </details>

    <details>
      <summary><strong>Lake Trout Spread</strong></summary>
      <ul>
        <li>90-120 FOW, dragging bottom.</li>
        <li>Rigger #1: cowbells or dodger + Spin-n-Glo on 18-36 in leader touching bottom.</li>
        <li>Rigger #2: 5-10 ft up with mag spoon or dodger/fly.</li>
        <li>Keep coppers out for roaming kings; 1.8-2.2 mph.</li>
      </ul>
    </details>
  </section>

  <section id="walleye">
    <h2>Walleye Patterns (Lake Michigan - Grand Haven/Holland)</h2>
    <p class="small">Use your Ninja boards and rig light leaders when targeting eyes. Slow down compared to salmon speeds.</p>
    <div class="grid cols-2">
      <div class="details-ctrl">
        <button class="text-btn" data-expand="#walleye">Expand all</button>
        <button class="text-btn" data-collapse="#walleye">Collapse all</button>
      </div>
      <div>
        <h3>When & Where</h3>
        <ul>
          <li><strong>Spring (Mar-May):</strong> Warm-water plumes, pierheads, river mouths at night or low light; 10-30 FOW.</li>
          <li><strong>Summer (Jun-Aug):</strong> Suspended fish over 30-80 FOW, especially evenings/nights; edges of bait schools and temp breaks.</li>
          <li><strong>Fall (Sep-Nov):</strong> Push back to pierheads, beaches, and inside breaks on windy days; low light best.</li>
        </ul>
        <h3>Boat Speed</h3>
        <ul>
          <li><strong>Crawler harness/bottom bouncer:</strong> 0.9-1.3 mph.</li>
          <li><strong>Crankbaits (Husky Jerk, Flicker Minnow, Reef Runner):</strong> 1.6-2.2 mph.</li>
          <li><strong>Spoons (small):</strong> 1.8-2.3 mph.</li>
        </ul>
      </div>
      <div>
        <h3>Rods & Lines</h3>
        <ul>
          <li>12-15 lb mono or 10-12 lb fluoro leaders; swivels to prevent twist.</li>
          <li>Boards: your Ninja 9.5 work great; run long leads (60-120 ft) with crankbaits.</li>
          <li>Downriggers: can pull small spoons or cranks 10-40 ft down over 40-80 FOW when fish are suspended.</li>
        </ul>
        <h3>Rigs that Fit Your Gear</h3>
        <ul>
          <li><strong>Board Cranks:</strong> 1-2 boards per side. Start 80-120 ft leads. Add snap weights (1-2 oz) 50/50 method to reach deeper bands.</li>
          <li><strong>Bottom Bouncer + Harness:</strong> Use 1-2 oz in 20-35 FOW; crawler blades silver/chartruese/copper. Keep it just ticking bottom.</li>
          <li><strong>Rigger Spoon/Crank:</strong> Set 15-30 ft down with 30-60 ft leads when you mark suspended arcs over 40-80 FOW.</li>
        </ul>
      </div>
    </div>

    <details>
      <summary>Color & Water Clarity</summary>
      <ul>
        <li>Clear water: natural chrome/blue, purple, ghost minnow.</li>
        <li>Stained/low light: chartreuse, firetiger, orange belly baits.</li>
        <li>Night: black/silver or glow; slow down 0.1-0.3 mph.</li>
      </ul>
    </details>

    <details>
      <summary>Starter Walleye Spread (4 rods on Dee-lite)</summary>
      <ul>
        <li><strong>Board Port:</strong> Deep crank on 2 oz snap weight (50/50), total 150 ft back.</li>
        <li><strong>Board Starboard:</strong> Matching crank at 100 ft back (no weight) higher in column.</li>
        <li><strong>Rigger 1:</strong> Small spoon or Shad Rap 20-25 ft down, 40-60 ft lead.</li>
        <li><strong>Rigger 2:</strong> Bottom bouncer + crawler harness if inside 20-35 FOW; otherwise second suspended spoon/crank.</li>
      </ul>
    </details>
  </section>

  <section id="quickref">
    <h2>1-Page Quick Reference</h2>
  <div class="grid cols-2">
      <div>
        <h3>Start Grid (Salmon/Trout)</h3>
        <ul>
      <li><span class="pill badge">90–140 FOW</span> (75–90 early); cline 50–80 down; SOG <span class="pill badge">2.4–2.7</span>.</li>
          <li>Speeds: FF/Meat 2.2-2.5; Spoons 2.5-3.0; Plugs 2.4-2.8.</li>
        </ul>
        <h3>Walleye Quick</h3>
        <ul>
          <li>0.9-1.3 mph harness; 1.6-2.2 crankbaits; 1.8-2.3 spoons.</li>
          <li>Long leads off boards; snap weights to reach depth.</li>
        </ul>
      </div>
      <div>
        <h3>Changeups</h3>
        <ul>
          <li>Speed +/- 0.2-0.3 mph</li><li>Direction/turns</li><li>Swap one bait</li>
          <li>Color glow -> UV -> natural</li><li>Move rigger 10 ft</li><li>Slide grid</li>
        </ul>
        <h3>Helix 8 G3N (2D)</h3>
        <ul><li>SwitchFire Max; 200 kHz; Sens 12-14; Surf 4-5; Noise Low/Off; Chart 4-5; RTS On.</li></ul>
      </div>
    </div>
  </section>

  <section id="loadouts">
    <h2>Quick Loadouts (Salmon/Trout)</h2>
    <h3>Dawn Kings (90-120 FOW)</h3>
    <ul>
  <li>Rigger 75: 11 in flasher+fly (green/glow), 20 ft lead; slider mag NBK.</li>
  <li>Rigger 55: mag spoon Blue Dolphin, 50 ft lead; slider orange.</li>
      <li>300 copper: J-plug glow green ladderback.</li>
      <li>250 copper: 8 in flasher+fly (UV stud).</li>
    </ul>
    <h3>Mid-Morning Mix (110-140 FOW)</h3>
    <ul>
  <li>Rigger 60: mag spoon UV/blue-silver, 50 ft lead; slider UV.</li>
  <li>Rigger 45: standard spoon glow white/green dot, 55 ft lead.</li>
      <li>200 copper: mag spoon chrome/green.</li>
      <li>300 copper: meat rig behind 11 in chrome-green flasher.</li>
    </ul>
    <h3>Steelhead/Coho (scum lines)</h3>
    <ul>
  <li>Rigger 35-45: orange/UV spoon, 55 ft lead.</li>
  <li>Rigger 25-35: orange/silver standard spoon, 55 ft lead.</li>
      <li>150-200 copper: orange/brass standard spoon.</li>
      <li>200-250 copper: mag spoon with UV tape; run 2.7-3.0 mph.</li>
    </ul>
  </section>

  <section id="electronics">
    <h2>Electronics Quick Keys</h2>
    <h3>Helix 8 G3N</h3>
    <ul>
      <li>2D: SwitchFire Max, 200 kHz; Sens 12-14; Surface 4-5; Noise Low/Off; Chart 4-5; RTS On.</li>
      <li>SI/DI (if installed): SI 120-180 ft/side; DI Auto. Sens/Contrast 10-12.</li>
      <li>GPS Chart: Depth Highlight 90-140; Shallow Highlight 40.</li>
    </ul>
    <h3>i-Pilot (Terrova 80)</h3>
    <ul>
      <li><span class="pill">AutoPilot</span> for gentle course holds; use small corrections on wheel.</li>
      <li><span class="pill">Cruise Control</span> hold SOG while you adjust kicker/main throttle.</li>
      <li><span class="pill">Spot-Lock</span> for rigging or netting in calm seas only; avoid heavy traffic.</li>
    </ul>
  </section>

  <section id="downriggers">
    <h2>Cannon Magnum 10 / 10A Notes</h2>
    <div class="grid cols-2">
      <div>
        <h3>Setup Tips on Dee-lite</h3>
        <ul>
          <li>Use a snubber with 15 lb balls; check clutch tension so it slips on snags.</li>
          <li>Calibrate depth once at your usual troll speed to estimate blowback.</li>
          <li>Laker mode: tick bottom; King mode: 5-10 ft below arcs or just under the thermocline.</li>
          <li>Rigger leads: Spoons 40-60; Flasher/Fly 15-25; Meat 10-20 ft. Stackers or free sliders add a second bait.</li>
        </ul>
        <div>
          <h3>Troubleshooting</h3>
          <ul>
            <li>Motor won't run: check battery connections and voltage (12V, 10A fuse).</li>
            <li>Clutch slips: tighten clutch knob; ensure line is properly wound.</li>
            <li>Line won't release: check for obstructions; ensure clutch is fully disengaged.</li>
            <li>Depth gauge inaccurate: recalibrate using known depth or marked weights.</li>
          </ul>
        </div>
      </div>
      <div>
        <h3>Downrigger Cannonball Speed Calculator</h3>
        <div class="grid">
          <div>
            <label for="riggerSog">SOG (mph)</label>
            <input type="number" id="riggerSog" step="0.1" value="2.7" />
          </div>
          <div>
            <label for="riggerWeight">Weight (lb)</label>
            <input type="number" id="riggerWeight" step="1" value="15" />
          </div>
          <div>
            <label for="riggerDepth">Depth (ft)</label>
            <input type="number" id="riggerDepth" step="1" value="75" />
          </div>
        </div>
        <div class="row" style="margin-top:8px">
          <button id="calcRiggerBtn" class="btn" type="button">Calculate speed</button>
        </div>
        <div id="riggerResult" class="note" style="margin-top:10px"></div>
        <div class="small" style="margin-top:6px">Simplified model. Water density and drag assumed constant; depth is a reference input.</div>
      </div>
    </div>
  </section>

  <section id="prelaunch">
    <h2>Pre-Launch & Safety</h2>
  <div class="grid cols-2">
      <div>
        <h3>Boat/Engine/Electrics</h3>
        <ul>
          <li>Batteries topped; downrigger breaker on; spare fuses.</li>
          <li>Fuel/oil; bilge test; nav/anchor lights working.</li>
          <li>i-Pilot remote; spare cells if needed.</li>
          <li>Helix shows GPS fix & depth before you leave harbor.</li>
        </ul>
      </div>
      <div>
        <h3>Safety</h3>
        <ul>
          <li>PFDs, throwable, horn/whistle, flares as required.</li>
          <li>VHF/phone charged; weather and float plan.</li>
          <li>Tools: cutters, pliers, spare releases/terminators/snap weights.</li>
        </ul>
      </div>
    </div>
  </section>
</main>

<!-- unified header menu (dedicated button) -->
<script>
(function(){
  const toggle = document.getElementById('navToggle');
  const menu = document.getElementById('navMenu');
  const links = Array.from(menu ? menu.querySelectorAll('a') : []);
  function updateActive(){
    const h = location.hash || '#playbook';
    links.forEach(a=>{
      const href = a.getAttribute('href')||'';
      const is = href.startsWith('#') && href === h;
      if(is) a.setAttribute('aria-current','true'); else a.removeAttribute('aria-current');
    });
  }
  window.addEventListener('hashchange', updateActive); updateActive();
  if(!toggle || !menu) return;
  let lastFocused = null;
  function open(){
    lastFocused = document.activeElement; menu.hidden = false; toggle.setAttribute('aria-expanded','true');
    requestAnimationFrame(()=> menu.classList.add('open'));
    const f = menu.querySelector('a,button'); if(f) f.focus();
    document.addEventListener('click', onDocClick);
    document.addEventListener('keydown', onKey);
  }
  function close(){
    menu.classList.remove('open');
    setTimeout(()=>{ menu.hidden = true; }, 120);
    toggle.setAttribute('aria-expanded','false');
    document.removeEventListener('click', onDocClick);
    document.removeEventListener('keydown', onKey);
    if(lastFocused) lastFocused.focus(); lastFocused = null;
  }
  function onDocClick(e){ if(!menu.contains(e.target) && e.target !== toggle) close(); }
  function onKey(e){
    if(e.key === 'Escape') { close(); return; }
    if(e.key === 'Tab' && !menu.hidden){
      const f = Array.from(menu.querySelectorAll('a,button')).filter(el=>!el.disabled);
      if(!f.length) return; const first=f[0], last=f[f.length-1];
      if(e.shiftKey && document.activeElement===first){ e.preventDefault(); last.focus(); }
      else if(!e.shiftKey && document.activeElement===last){ e.preventDefault(); first.focus(); }
    }
  }
  toggle.addEventListener('click', (e)=>{ e.stopPropagation(); if(menu.hidden) open(); else close(); });
  links.forEach(a=> a.addEventListener('click', ()=> setTimeout(close, 50)));
})();

// Expand / collapse all details controls
(function(){
  function setAll(sectionSel, open){
    const root = document.querySelector(sectionSel);
    if(!root) return;
    root.querySelectorAll('details').forEach(d=>{ d.open = !!open; });
  }
  document.querySelectorAll('[data-expand]').forEach(btn=>{
    btn.addEventListener('click', ()=> setAll(btn.getAttribute('data-expand'), true));
  });
  document.querySelectorAll('[data-collapse]').forEach(btn=>{
    btn.addEventListener('click', ()=> setAll(btn.getAttribute('data-collapse'), false));
  });
})();

// Downrigger cannonball speed calculator (simplified)
(function(){
  function calc(){
    const sog = parseFloat(document.getElementById('riggerSog')?.value || '0'); // mph
    const weight = parseFloat(document.getElementById('riggerWeight')?.value || '0'); // lb
    const depth = parseFloat(document.getElementById('riggerDepth')?.value || '0'); // ft (informational)
    if(!isFinite(sog) || !isFinite(weight)) return;
    const waterDensity = 62.4; // lb/ft^3
    const dragCoeff = 0.8;     // assumed drag coefficient
    const radiusFt = 0.167;    // ~4 in diameter -> 0.167 ft radius
    const area = Math.PI * radiusFt * radiusFt; // frontal area ft^2
    const vX = sog * 5280 / 3600; // mph -> ft/s
    const vY = Math.sqrt(Math.max(0, (2 * weight) / (waterDensity * dragCoeff * area))); // ft/s
    const vR = Math.sqrt(vX*vX + vY*vY); // ft/s
    const mph = vR * 0.681818; // ft/s to mph
    const knots = vR * 0.592484; // ft/s to knots
    const el = document.getElementById('riggerResult');
    if(!el) return;
    el.innerHTML = `<b>Results</b><br>
      Horizontal (ft/s): ${vX.toFixed(2)}<br>
      Vertical (ft/s): ${vY.toFixed(2)}<br>
      Resultant (ft/s): ${vR.toFixed(2)}<br>
      Resultant (mph): ${mph.toFixed(2)}<br>
      Resultant (knots): ${knots.toFixed(2)}<br>
      <span class="small">Inputs — SOG: ${sog.toFixed(1)} mph • Weight: ${weight.toFixed(0)} lb • Depth: ${depth.toFixed(0)} ft</span>`;
  }
  const btn = document.getElementById('calcRiggerBtn');
  if(btn) btn.addEventListener('click', calc);
})();
</script>
</body>
</html>

